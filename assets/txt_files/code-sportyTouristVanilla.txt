var sourcesArr = [<br>  {<br>    source: \'ESPN\',<br>    url: \'https://newsapi.org/v1/articles?source=espn&sortBy=top&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>    source: \'ESPN Cric Info\',<br>    url: \'https://newsapi.org/v1/articles?source=espn-cric-info&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\',<br>  },<br>  {<br>    source: \'Fox Sports\',<br>    url: \'https://newsapi.org/v1/articles?source=fox-sports&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>    source: \'NFL News\',<br>    url: \'https://newsapi.org/v1/articles?source=nfl-news&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>    source: \'SKY Sports News\',<br>    url: \'https://newsapi.org/v1/articles?source=sky-sports-news&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>  source: \'BBC Sports\',<br>  url: \'https://newsapi.org/v1/articles?source=bbc-sport&sortBy=top&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>    source: \'FourFourTwo\',<br>    url: \'https://newsapi.org/v1/articles?source=four-four-two&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>    source: \'talkSport\',<br>    url: \'https://newsapi.org/v1/articles?source=talksport&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>    source: \'TheSPORTbible\',<br>    url: \'https://newsapi.org/v1/articles?source=the-sport-bible&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  },<br>  {<br>    source: \'Football Italia\',<br>    url: \'https://newsapi.org/v1/articles?source=football-italia&sortBy=latest&apiKey=909efd3e931c4e16bde5565b8d10f113\'<br>  }<br>];<br>var expandedSourcesArr = [];<br>//shuffle the array<br>function shuffleArray(array) {<br>    for (var i = array.length - 1; i &gt; 0; i--) {<br>        var j = Math.floor(Math.random() * (i + 1));<br>        var temp = array[i];<br>        array[i] = array[j];<br>        array[j] = temp;<br>    }<br>    return array;<br>  }<br><br>//reload the page<br>function pageReload(time) {<br>  setTimeout(reloadFun, time);<br>}<br>//callback for reloading the page<br>function reloadFun() {<br>  window.location.reload(true);<br>}<br><br>window.onload = function() {<br>  shuffleArray(sourcesArr);<br>  heroSectionArticles(sourcesArr);<br>  sportsSectionArticles(sourcesArr);<br><br>  toggleHeroClass();<br>  toggleArticleClasses();<br>  pageReload(600000);<br>};//End of onload function<br><br><br>function expandSources(arrWithSources, endArr) {<br>  for (var i = 0; i &lt; arrWithSources.length; i++) {<br>    let sourcesUrl = arrWithSources[i].url;<br>    $.getJSON(sourcesUrl, function (result) {<br>      endArr.push(result);<br>      // console.log(result);<br>    });<br>  }<br>}<br>expandSources(sourcesArr, expandedSourcesArr);<br>// console.log(expandedSourcesArr);<br>//---------------------HERO CONTENT CREATION------------------------------<br>//creation and append of the article tags in the main Grid<br>function heroSectionArticles(arrWithSources) {<br>  let heroSection = document.getElementById(\'heroSection\');<br>  let sourcesUrl = arrWithSources[0].url;<br>  let heroArticle = document.createElement(\'article\');<br>  heroArticle.className += \'heroArticleClass\';<br>  // heroArticle.className += \' transform\'; Not needed because I am not applying special effect<br>  arrWithSources[0] = heroArticle;<br>  apiData(0, sourcesUrl);<br>  heroSection.appendChild(heroArticle);<br>}<br><br><br>//------------------MAIN GRID CONTENT CREATION----------------------------<br>//creation and append of the article tags in the main Grid<br>function sportsSectionArticles(arrWithSources) {<br>  let sportsSection = document.getElementById(\'sportsSection\');<br>  for (let i = 1; i &lt; arrWithSources.length; i++) {<br>    let sourcesUrl = arrWithSources[i].url;<br><br>    function jSonArr(url) {<br>      $.getJSON(url, function (result) {<br>        // console.log(result);<br>      });<br>    }<br>    jSonArr(sourcesUrl);<br><br>    let sportsArticle = document.createElement(\'article\');<br>    sportsArticle.className += \'sportsArticleClass\';<br>    // sportsArticle.className += \' transform\'; //not needed because I am not applying special effect<br>    arrWithSources[i] = sportsArticle;<br>    apiData(i, sourcesUrl);<br>    sportsSection.appendChild(sportsArticle);<br>  }<br>}<br><br>//api Data retrieval<br>function apiData(idxForSourcesArr, url) {<br>  // console.log(\'The url is: \' + url);<br>  $.ajax({<br>    url: url,<br>    method: \'GET\',<br>    success: sportsNewsResult<br>    // error: bbcNewsError<br>  });<br><br>  // Inner function in order to close over idxForSourcesArr<br>  function sportsNewsResult(data) {<br>    //articles<br>    let resultTitle = document.createElement(\'h3\');<br>    let resultSource = document.createElement(\'h4\');<br>    let imageDiv = document.createElement(\'div\');<br>    let heroImageDiv = document.createElement(\'div\');//////////////////////////////<br>    let resultImage = document.createElement(\'img\');<br>    let resultArticle = document.createElement(\'p\');<br>    let articleSourceAnchor = document.createElement(\'a\');<br><br>    let moreButtonDiv = document.createElement(\'div\');<br>    let moreButtonAnchor = document.createElement(\'a\');<br><br>    resultTitle.textContent = data.articles[0].title;<br>    imageDiv.className += \'imageDiv\';<br>    heroImageDiv.className += \'heroImageDiv\';/////////////////////////////////<br>    moreButtonDiv.className += \'moreButtonDiv\';<br><br>    articleSourceAnchor.setAttribute(\'href\', data.articles[0].url);<br>    articleSourceAnchor.setAttribute(\'target\', \'_blank\');<br>    resultImage.setAttribute(\'alt\', \'Sorry, there is no image provided by the source\');<br>    articleSourceAnchor.innerText = \'Source: \' + data.source + \' via newsapi.org \';<br>    resultImage.src = data.articles[0].urlToImage;<br>    resultArticle.textContent = data.articles[0].description;<br>    moreButtonAnchor.innerText = \'More\';<br><br>    //<br>    imageDiv.appendChild(resultImage);<br>    resultSource.appendChild(articleSourceAnchor);<br>    moreButtonDiv.appendChild(moreButtonAnchor);<br>    sourcesArr[idxForSourcesArr].appendChild(imageDiv);<br>    sourcesArr[idxForSourcesArr].appendChild(resultTitle);<br>    sourcesArr[idxForSourcesArr].appendChild(resultSource);<br>    sourcesArr[idxForSourcesArr].appendChild(resultArticle);<br>    sourcesArr[idxForSourcesArr].appendChild(moreButtonDiv);<br><br>  }<br>} //End of apiData function<br><br>// function bbcNewsError {<br>//<br>// }<br><br>//-------------------TOGGLES------------------------------<br>//toggle between classes for expanding the hero article content<br>function toggleHeroClass() {<br>  $(\'.heroArticleClass\').on(\'click\', function(){<br>    $(this).toggleClass(\'heroArticleExpanded\');<br>    $(this).children(\'div\').toggleClass(\'heroImageDivExpanded\');<br>    $(this).children(\'div\').toggleClass(\'imageDiv\');<br>    $(this).children(\'.moreButtonDiv\').removeClass(\'imageDiv\');<br><br>    $(\'.sportsArticleExpanded\').removeClass(\'sportsArticleExpanded\');<br>    $(\'.imageDivExpanded\').removeClass(\'imageDivExpanded\');<br>  });<br>}<br><br>//toggle between classes for expanding the article content<br>function toggleArticleClasses() {<br>  $(\'.sportsArticleClass\').on(\'click\', function(){<br>    $(this).toggleClass(\'sportsArticleExpanded\');<br>    $(this).children(\'.imageDiv\').toggleClass(\'imageDivExpanded\');<br><br>    $(this).siblings().removeClass(\'sportsArticleExpanded\');<br>    $(\'.heroArticleExpanded\').removeClass(\'heroArticleExpanded\');<br>    $(\'.heroImageDivExpanded\').addClass(\'heroImageDiv\');<br>    $(\'.heroImageDivExpanded\').removeClass(\'heroImageDivExpanded\');<br>    $(this).siblings().children(\'div\').removeClass(\'imageDivExpanded\');<br>  });<br>}"}
